# Infraestrutura na AWS com Terraform

## Introdução

A implementação da nossa arquitetura em nuvem utilizando Terraform e GitHub Actions representa um passo significativo em direção à eficiência, escalabilidade e segurança no desenvolvimento e operação dos nossos sistemas. Esta abordagem permite uma infraestrutura como código, garantindo uma maior consistência e facilidade na gestão de recursos na AWS. Além disso, a integração do chatbot no WhatsApp, a interface web e o Turtlebot3 em um único sistema em nuvem oferece uma solução robusta, ágil e altamente adaptável para atender às demandas dinâmicas do nosso projeto.

Os documentos fornecidos oferecem informações detalhadas sobre um projeto de automação envolvendo o TurtleBot 3 na AMBEV. Para completar o parágrafo sobre a lógica da aplicação na AWS, considerando os dados fornecidos, seguem algumas diretrizes:

## Lógica da Aplicação na AWS

O projeto envolve a implementação de uma arquitetura de nuvem robusta e escalável na AWS, utilizando uma série de serviços. A lógica da aplicação na AWS pode ser estruturada da seguinte maneira:

1. **EC2 (Elastic Compute Cloud)**: Para hospedar os servidores back-end e front-end da aplicação. Utilizar instâncias EC2 oferece flexibilidade para escalar os recursos conforme necessário.

2. **RDS (Relational Database Service)**: Para gerenciar o banco de dados. O RDS facilita tarefas como backup, recuperação e patching, sendo ideal para armazenar informações estruturadas do projeto.

3. **S3 (Simple Storage Service)**: Para armazenamento de arquivos estáticos, como imagens, vídeos e documentos. O S3 é altamente escalável e seguro para armazenar e recuperar grandes quantidades de dados.

4. **Lambda e API Gateway**: Para criar uma arquitetura serverless, onde funções Lambda podem ser usadas para executar código em resposta a gatilhos (como solicitações HTTP via API Gateway). Isso é ideal para operações de backend leves e eficientes.

5. **IAM (Identity and Access Management)**: Para gerenciar acessos e permissões, garantindo que apenas usuários autorizados possam acessar recursos específicos na AWS.

6. **CloudWatch**: Para monitoramento e logs. Utilizar o CloudWatch para monitorar o desempenho da aplicação e registrar logs para análise e troubleshooting.

7. **Terraform**: Para automatizar a criação e gerenciamento da infraestrutura na AWS. Utilizando o Terraform, é possível definir a infraestrutura como código, o que facilita a replicação e a gestão dos ambientes.

8. **Elastic Load Balancing (ELB)**: Para distribuir o tráfego de rede e solicitações de usuários entre várias instâncias EC2, garantindo alta disponibilidade e balanceamento de carga.

9. **Route 53**: Para gerenciamento de DNS, proporcionando um meio confiável e eficaz para direcionar os usuários para a aplicação.

10. **VPC (Virtual Private Cloud)**: Para isolar e proteger a infraestrutura na nuvem, permitindo definir uma rede virtual privada segura na AWS.

## Configurações Chave da Infraestrutura

Estes arquivos se encontram na pasta [infrastructure](https://github.com/2023M8T2-Inteli/grupo4/tree/main/infrastructure) do nosso repositório.

#### `provider.tf` e `variables.tf`
- **Estrutura Fundamental**: Estes arquivos estabelecem a base da nossa infraestrutura. `provider.tf` configura o acesso ao provedor AWS, essencial para todas as operações na nuvem. `variables.tf` define variáveis cruciais como a região da AWS, detalhes de sub-redes e zonas de disponibilidade, oferecendo flexibilidade e possibilitando a personalização da infraestrutura.

#### `ec2.tf`
- **Máquinas Virtuais para Aplicações**: Define detalhadamente as instâncias EC2, incluindo tipos de instâncias, configurações de AMI e chaves de acesso. Essas instâncias, como a `chatbot_host`, são vitais para executar o chatbot e outras aplicações, garantindo desempenho e disponibilidade.

#### `network.tf`
- **Configuração de Rede Abrangente**: Detalha a criação de gateways de internet, endereços IP elásticos e gateways NAT, fundamentais para a conectividade e acessibilidade externa. Essas configurações são cruciais para o funcionamento ininterrupto das aplicações hospedadas.

#### `security_group.tf`
- **Segurança Reforçada**: Especifica grupos de segurança, estabelecendo regras detalhadas para o tráfego de entrada e saída. Isso é especialmente importante para proteger o banco de dados e outras instâncias, permitindo apenas tráfego autorizado e prevenindo acessos não desejados.

#### `vpc.tf`
- **Isolamento e Gerenciamento de Rede**: Explica a criação e configuração da VPC, incluindo detalhes sobre blocos CIDR, suporte a DNS e tags para identificação. A VPC serve como uma rede isolada dentro da AWS, crucial para segurança e organização eficiente dos recursos de rede.

#### `elastic_ip.tf`
- **Estabilidade de Conexão com IPs Elásticos**: Aloca endereços IP estáticos para instâncias críticas, garantindo que serviços essenciais, como o chatbot e a interface web, mantenham a conectividade constante, um aspecto vital para a confiabilidade do sistema.

#### `elastic_container_registry.tf`
- **Gerenciamento Ágil de Contêineres**: Cria e gerencia repositórios no AWS ECR, permitindo o armazenamento seguro e a gestão eficiente de imagens de contêineres. Essa configuração apoia a implantação rápida e flexível de aplicações, essencial para atualizações regulares e manutenção.

#### `database.tf`
- **Armazenamento de Dados Centralizado e Seguro**: Configura o ambiente de banco de dados na AWS, incluindo a definição de sub-redes e configurações de segurança. Detalha como o banco de dados é integrado ao sistema para armazenar informações do chatbot e outros dados essenciais.

## Conclusão

A realização dessas mudanças na nossa infraestrutura em nuvem traz uma série de benefícios imediatos e de longo prazo. A eficiência operacional é aprimorada pela automatização do provisionamento e gestão de recursos, reduzindo o risco de erros humanos e acelerando o processo de desenvolvimento. A escalabilidade da infraestrutura assegura que possamos crescer e adaptar nossos serviços conforme a demanda, enquanto a robusta configuração de segurança protege nossos dados e aplicações. Adicionalmente, a integração do chatbot, da interface web e do Turtlebot3 em uma infraestrutura coesa e bem gerenciada otimiza o fluxo de trabalho e a experiência do usuário. Em resumo, essa implementação não apenas atende às necessidades atuais do nosso projeto, mas também estabelece uma base sólida para o crescimento e inovação futuros.